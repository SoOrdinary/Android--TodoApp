# Todo 👆 2.1.2

一个待办事项管理应用，集成了任务、日志、闹钟功能。

## 从此下载地址下载最新版本的版本信息和安装包及其压缩包

- https://github.com/SoOrdinary/Android--TodoApp/releases/download/latest/version_info.xml
- https://github.com/SoOrdinary/Android--TodoApp/releases/download/latest/Todo.zip
- https://github.com/SoOrdinary/Android--TodoApp/releases/download/latest/Todo.apk

## 国内gitee地址

- https://gitee.com/ly0919/todo/releases/download/lastest/version_info.xml
- https://gitee.com/ly0919/todo/releases/download/latest/Todo.zip
- https://gitee.com/ly0919/todo/releases/download/latest/Todo.apk

## 使用手册

### 1. 任务清单界面

- **添加任务**  
  单击底部导航栏加号以快速添加任务；长按可添加更多细节

- **查看任务**  
  单击对应任务

- **编辑任务**  
  查看任务后点击详情界面右下角的编辑按钮

- **设置闹钟**  
  查看任务后点击详情界面右下角的闹钟按钮，可定制比任务时间提前多久通知，确认后自动加入闹钟管理队列

- **完成任务**  
  单击对应任务项右侧状态栏，若为完成会自动加入日志

- **删除任务**  
  长按对应任务并确认

- **切换布局**  
  单击右上角菜单按钮可切换为线性布局或瀑布流布局

- **打开侧边栏**  
  单击左上角菜单按钮

- **查找任务**  
  于侧边栏查询框输入任务关键字

- **筛选任务**  
  单击侧边栏对应菜单，依次为：当日任务、所有任务、自定义标签

- **隐藏设置**  
  任务超时将标红提醒

---

### 2. 日志记录界面

- **增加日志**  
  单击底部导航栏加号，可编辑此刻日志内容；长按可自定义日志时间与超时时长，超时时长可为负数

- **删除日志**  
  左右滑动对应日志

- **查看详情**
  长按后，不同类型日志会有不同弹窗

- **切换日期**  
  单击上方日期，于日历中选择

- **隐藏设置**  
  若超时，对应日志时间将标红

---

### 3. 闹钟管理界面

- **添加闹钟**  
  单击底部导航栏，可设置闹钟倒计时时长并添加；长按可添加具体时刻的闹钟

- **查看闹钟**  
  单击对应项，可查看闹钟具体通知时刻

- **删除闹钟**  
  左滑显示删除按钮，点击后删除。当闹钟超时后，也会在一定时间后自动删除

- **大屏计时**  
  长按对应项，可将该项倒计时添加入大屏倒计时

- **沉浸模式**  
  轻击顶部

- **隐藏设置**  
  闹钟总会在整分时刻通知
  时间到达时会标红提醒

---

### 4. 信息设置界面

- **更改信息**  
  点击信息一栏可打开编辑区域编辑，任意点击对应控件可打开相应编辑界面，长按头像可恢复默认头像

- **辅助功能**  
  如任务的标签增删、为应用加锁等设置类功能，统一放于该界面

---

### 5. 前台服务界面

- **显示概要**  
  前台服务会实时检测当前超时任务、今日待办、完成总计、最近闹钟提醒等信息，并实时显示在系统状态栏

---

### 6. 一些提醒

- **信息输入**  
  如时间等的信息的错误输入形式，软件的自动检查不一定全面，尽量按照规范输入，如果遇到比较严重的输入bug，如会导致软件闪退，可于邮件阐述

- **通知权限**  
  首次打开软件将提醒设置通知权限，如若拒绝，设置闹钟后不会提醒打开权限，需要自己去系统设置设置权限，建议打开通知权限，许多功能都与通知有关  
  同时，Android手机设置，会自动清理后台程序，或一键杀死所有非白名单应用，这会导致应用清理掉后闹钟失效，为应用在后台上锁可能会有用；若想要通知时消息能够弹出前台，也需进行权限设置  
  在进行定时任务时，若想避免倒计时被系统暂停，可进入闹钟的沉浸模式再锁屏
- **数据迁移**  
  迁移时请选择网络环境比较好的地点进行，迁移完毕后最好直接重启，因为打开的应用存在一些缓存  
  因为迁移功能的实现写在设置界面内，而设置界面上有用户信息等，其渲染时存在引用，所以迁移覆盖时该持久化文件存在引用而无法覆盖，可自行重新添加  
  网络方面还是有一点奇怪的问题的，如果遇到bug可以多试几次，也可以发邮件give me

---

### 🌱 更多功能可多加探索

---

## 开发环境要求

- Android Studio（2024.2.1.11）
- Gradle 8.9
- JDK 21

## 安装步骤

按照以下步骤来设置和运行本项目：

### 1. 克隆仓库

```bash
有时网络或配置问题会失败，可以先fork到自己的仓库然后使用ssl拉取
git clone https://github.com/SoOrdinary/Android--TodoApp.git
cd Android--TodoApp
```

### 2. 配置环境

```
使用Android Studio打开文件夹
项目gradle-wrapper.properties.kt已配置完成
local.properties中sdk位置可能需要自行更改
```

### 3. 连接手机运行项目

```
打开手机开发者模式
打开USB Debug
打开"MTP"而非"仅充电"
```

## 更新日志

**待办**
数据传输模块独立为服务
alarm提醒升级为单独服务
优化myers算法结构

**v2.1.2[2025.08.03]**
- 关键数据前台显示独立为一个进程，提升应用稳定性
- sp替换为mmkv

**v2.1.1[2025.04.05]**
- 修复了更新Task项时会自动将任务设置为未完成的bug
- 修复了密码为空也可判定成功的bug
- 现在每次启动输入一次密码后点击前台统计通知即可跳过输入密码阶段
- 现在数据传输时接收方不会因处理速度过快而判断不完整数据不成功而报错了
- 现在数据传输时接收方不会因处理速度过慢而发送方却不知道直接关闭连接而报错了(预留了应用层实现流量控制的方式)
- 数据传输增加断点重传功能，提升局域网传输容错
- 数据传输增加心跳机制，参考了ANR实现方式，现在新设备不会因旧设备突然宕机而一直卡死

**v2.1.0[2025.03.04]**
- 数据库结构修改，与前版不兼容
- 密码存储提升安全性，采用MD5单向加密
- 修复头像更换第二次以上无效的bug
- 修复了首页不切换界面任务不自动超时变红的bug
- 修复了前台显示的超时标准只和当次打开app的时间关联的bug
- 修复了更新Task后不退出连续更新时更新界面数据不同步的bug
- 优化了闹钟倒计时界面的倒计时性能
- 优化了图片类数据存储与更新管理
- 任务默认查询增加超时任务查询
- 增加沉浸默认锁屏功能
- 增加更新版本功能
- 增加数据迁移功能

**v2.0.2[2025.02.20]**
- 修复了长按式添加任务后图片失效的bug
- 现在长按式添加任务可以添加循环任务
- 优化了前台显示的部分细节
- 现在编辑界面长按头像可恢复默认头像

**v2.0.1[2025.02.19]**
- 给三个列表的增删改查增加动画滑动
- 使用myers算法优化列表显示，提升响应速度
- 完善闹钟超时自动删除机制，清除冗余协程
- 为闹钟项增加了滑动确认删除的功能，长按功能改为详情弹窗
- 增加前台服务，统计任务、闹钟的相关简要信息并实时显示

**v2.0.0[2025.01.18]**
- 语言重构为kotlin
- 整理项目逻辑，将MVVM架构完善
- 删除聊天室功能，增加日志管理、闹钟管理界面，并编写相关API
- 增加应用锁功能，bug提交的邮件跳转功能
- 对相关说明文档、原项目漏洞进行细节完善

**v1.1.2[2024.12.05]**
- 修复了初版的一些bug，Todo初期架构完善

**v1.0.0[2024.11.31]**
- Todo初版，实现了手账记录、局域网聊天等基本功能